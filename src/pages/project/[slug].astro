---
import H1 from '@components/Headings/H1.astro';
import MainLayout from '@layouts/MainLayout.astro';
import { getCollection } from 'astro:content';

const { slug } = Astro.params;

const allProjects = await getCollection('project');
const project = allProjects.find(project => project.data.slug === slug);

export async function getStaticPaths() {
  const projects = await getCollection('project');

  return projects.map(post => ({
    params: { slug: post.id },
    props: { post },
  }));
}
---

<MainLayout>
  <H1 text={project?.data.title} />
  <article>{project?.body}</article>
</MainLayout>
